<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <title>ll-list-control Demo</title>
    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
    <link rel="import" href="../ll-list-control.html">
</head>
<body unresolved>

<p>An example of <code>&lt;ll-list-control&gt;</code>:</p>

<button onclick="addTestItem()" style="margin-left:15px;">Add a demo item</button>

<div style="padding:15px;">
    <ll-list-control control-title="Associated Items"
                     associate-text="Add Existing Item"
                     empty-list-text="No items to display"
                     id-field-name="itemId"
                     radio-button-group-name="group1"
                     display-field-separator=" - "
                     fancy>
    </ll-list-control>
</div>

<div id="logs" style="margin-left:15px;">
    <div>Logs:</div>
</div>

<script>
    var demoControl = document.querySelector('ll-list-control');
    demoControl.displayFieldNames = ['name', 'type'];

    var addTestItem = function () {
        demoControl.items = [
            {
                _id: 'NyQ7h8VGg',
                itemId: 'NyQ7h8VGg',
                name: 'First Item',
                type: 'FLAT',
                description: 'Some item description',
                validFor: [
                    {
                        start: '2015-11-05T00:00:00.000Z',
                        end: null,
                        amount: 10,
                        lastTouched: [{
                            when: '2015-11-05T14:51:47.091Z'
                        }]
                    }]
            }
        ]
    };

    var addLog = function(message){
        var logs = document.getElementById('logs');
        var newMessage = document.createElement('div');
        newMessage.innerHTML = message;
        logs.appendChild(newMessage);
    };

    document.addEventListener('create-new', function() {
        addLog('Create new selected');
    });
    document.addEventListener('associate-items', function() {
        addLog('Associate item selected');
    });
    document.addEventListener('remove-selected', function(event) {
        console.log(event.detail);
        addLog('Remove selected with id: ' + event.detail.selectedItemId);
    });

</script>

</body>
</html>
